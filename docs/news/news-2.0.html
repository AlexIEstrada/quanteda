<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Version 2.0 • quanteda</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>

<meta property="og:title" content="Version 2.0" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144616-24"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-144616-24');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">quanteda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Quick Start
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/quickstart.html">Quick Start Guide</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_es.html">Guía de Inicio Rápido</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_cn.html">快速入门指南</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_ja.html">クイック・スタートガイド</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_hi.html">त्वरित आरंभ </a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Features
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/comparison.html">Feature comparison</a>
    </li>
    <li>
      <a href="../articles/pkgdown/design.html">Package design</a>
    </li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/examples/phrase.html">Multi-word expressions</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/plotting.html">Textual data visualization</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/lsa.html">Latent Semantic Analysis (LSA)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/chinese.html">Chinese text analysis</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/twitter.html">Social media analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Replications
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/replication/digital-humanities.html">Text Analysis with R for Students of Literature</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/text2vec.html">Word embedding (word2vec)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/qss.html">Quantitative Social Science Ch. 5.1</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/quanteda/quanteda">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small>2.0</small></h1>
      
    </div>

    <div id="quanteda-20" class="section level1">
<h1 class="page-header" data-toc-text="2.0">
<a href="#quanteda-20" class="anchor"></a>quanteda 2.0<small> Unreleased </small>
</h1>
<div id="changes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-3" class="anchor"></a>Changes</h2>
<p><strong>quanteda</strong> 2.0 introduces some major changes, detailed here.</p>
<ol>
<li>
<p>New corpus object structure.</p>
<p>The internals of the corpus object have been redesigned, and now are based around a character vector with meta- and system-data in attributes. These are all updated to work with the existing extractor and replacement functions. If you were using these before, then you should not even notice the change. Docvars are now handled separately from the texts, in the same way that docvars are handled for tokens objects.</p>
</li>
<li>
<p>New metadata handling.</p>
<p>Corpus-level metadata is now inserted in a user metadata list via <code><a href="../reference/meta.html">meta()</a></code> and <code>meta&lt;-()</code>. <code><a href="../reference/meta.html">metacorpus()</a></code> is kept as a synonym for <code><a href="../reference/meta.html">meta()</a></code>, for backwards compatibility. Additional system-level corpus information is also recorded, but automatically when an object is created.</p>
<p>Document-level metadata is deprecated, and now all document-level information is simply a “docvar”. For backward compatibility, <code><a href="../reference/metadoc.html">metadoc()</a></code> is kept and will insert document variables (docvars) with the name prefixed by an underscore.</p>
</li>
<li><p>Corpus objects now store default summary statistics for efficiency. When these are present, <code><a href="../reference/summary.corpus.html">summary.corpus()</a></code> retrieves them rather than computing them on the fly.</p></li>
<li>
<p>New index operators for core objects. The main change here is to redefine the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operator for corpus, tokens, and dfm objects (all objects that retain docvars) to allow this operator to access single docvars by name. Some other index operators have been redefined as well, such as <code>[.corpus</code> returning a slice of a corpus, and <code>[[.corpus</code> returning the texts from a corpus.</p>
<p>See the full details at <a href="https://github.com/quanteda/quanteda/wiki/indexing_core_objects" class="uri">https://github.com/quanteda/quanteda/wiki/indexing_core_objects</a>.</p>
</li>
<li>
<p><code>*_subset()</code> functions.</p>
<p>The <code>subset</code> argument now must be logical, and the <code>select</code> argument has been removed. (This is part of <code><a href="https://rdrr.io/r/base/subset.html">base::subset()</a></code> but has never made sense, either in <strong>quanteda</strong> or <strong>base</strong>.)</p>
</li>
<li>
<p>Return format from <code><a href="../reference/textstat_simil.html">textstat_simil()</a></code> and <code><a href="../reference/textstat_simil.html">textstat_dist()</a></code>.</p>
<p>Now defaults to a sparse matrix from the <strong>Matrix</strong> package, but coercion methods are provided for <code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code>, to make these functions return a data.frame just like the other textstat functions. Additional coercion methods are provided for <code><a href="https://rdrr.io/r/stats/dist.html">as.dist()</a></code>, <code>as.simil()</code>, and <code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code>.</p>
</li>
<li><p>settings functions (and related slots and object attributes) are gone. These are now replaced by a new <code><a href="../reference/meta.html">meta(x, type = "object")</a></code> that records object-specific meta-data, including settings such as the <code>n</code> for tokens (to record the <code>ngrams</code>).</p></li>
<li><p>All included data objects are upgraded to the new formats. This includes the three corpus objects, the single dfm data object, and the LSD 2015 dictionary object.</p></li>
<li><p>New print methods for core objects (corpus, tokens, dfm, dictionary) now exist, each with new global options to control the number of documents shown, as well as the length of a text snippet (corpus), the tokens (tokens), dfm cells (dfm), or keys and values (dictionary). Similar to the extended printing options for dfm objects, printing of corpus objects now allows for brief summaries of the texts to be printed, and for the number of documents and the length of the previews to be controlled by new global options.</p></li>
<li><p>All textmodels and related functions have been moved to a new package <strong>quanteda.textmodels</strong>. This makes them easier to maintain and update, and keeps the size of the core package down.</p></li>
<li>
<p><strong>quanteda</strong> v2 implements major changes to the <code><a href="../reference/tokens.html">tokens()</a></code> constructor. These are designed to simplify the code and its maintenance in <strong>quanteda</strong>, to allow users to work with other (external) tokenizers, and to improve consistency across the tokens processing options. Changes include:</p>
<ul>
<li><p>A new method <code>tokens.list(x, ...)</code> constructs a <code>tokens</code> object from named list of characters, allowing users to tokenize texts using some other function (or package) such as <code>tokenize_words()</code>, <code>tokenize_sentences()</code>, or <code>tokenize_tweets()</code> from the <strong>tokenizers</strong> package, or the list returned by <code><a href="http://spacyr.quanteda.io/reference/spacy_tokenize.html">spacyr::spacy_tokenize()</a></code>. This allows users to use their choice of tokenizer, as long as it returns a named list of characters. With <code>tokens.list()</code>, all tokens processing (<code>remove_*</code>) options can be applied, or the list can be converted directly to a <code>tokens</code> object without processing using <code><a href="../reference/as.tokens.html">as.tokens.list()</a></code>.</p></li>
<li><p>All tokens options are now <em>intervention</em> options, to split or remove things that by default are not split or removed. All <code>remove_*</code> options to <code><a href="../reference/tokens.html">tokens()</a></code> now remove them from tokens objects by calling <code>tokens.tokens()</code>, after constructing the object. “Pre-processing” is now actually post-processing using <code>tokens_*()</code> methods internally, after a conservative tokenization on token boundaries. This both improves performance and improves consistency in handling special characters (e.g. Twitter characters) across different tokenizer engines. (<a href='https://github.com/quanteda/quanteda/issues/1503'>#1503</a>, <a href='https://github.com/quanteda/quanteda/issues/1446'>#1446</a>, <a href='https://github.com/quanteda/quanteda/issues/1801'>#1801</a>)</p></li>
</ul>
<p>Note that <code>tokens.tokens()</code> will remove what is found, but cannot “undo” a removal – for instance it cannot replace missing punctuation characters if these have already been removed.</p>
<ul>
<li><p>The option <code>remove_hyphens</code> is removed and deprecated, but replaced by <code>split_hyphens</code>. This preserves infix (internal) hyphens rather than splitting them. This behaviour is implemented in both the <code>what = "word"</code> and <code>what = "word2"</code> tokenizer options. This option is <code>FALSE</code> by default.</p></li>
<li><p>The option <code>remove_twitter</code> has been removed. The new <code>what = "word"</code> is a smarter tokenizer that preserves social media tags, URLs, and email-addresses. “Tags” are defined as valid social media hashtags and usernames (using Twitter rules for validity) rather than removing the <code>#</code> and <code>@</code> punctuation characters, even if <code>remove_punct = TRUE</code>.</p></li>
</ul>
</li>
</ol>
</div>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li>Changed the default value of the <code>size</code> argument in <code><a href="../reference/dfm_sample.html">dfm_sample()</a></code> to the number of features, not the number of documents. (<a href='https://github.com/quanteda/quanteda/issues/1643'>#1643</a>)</li>
<li>Fixes a few CRAN-related issues (compiler warnings on Solaris and encoding warnings on r-devel-linux-x86_64-debian-clang.)</li>
<li>Added <code>startpos</code> and <code>endpos</code> arguments to <code><a href="../reference/tokens_select.html">tokens_select()</a></code>, for selecting on token positions relative to the start or end of the tokens in each document. (<a href='https://github.com/quanteda/quanteda/issues/1475'>#1475</a>)</li>
<li>Added a <code><a href="../reference/convert.html">convert()</a></code> method for corpus objects, to convert them into data.frame or json formats.</li>
<li>Added a <code>spacy_tokenize()</code> method for corpus objects, to provide direct access via the <strong>spacyr</strong> package.</li>
</ul>
</div>
<div id="behaviour-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#behaviour-changes" class="anchor"></a>Behaviour changes</h2>
<ul>
<li>Added a <code>force = TRUE</code> option and error checking for the situations of applying <code><a href="../reference/dfm_weight.html">dfm_weight()</a></code> or <code><a href="../reference/dfm_group.html">dfm_group()</a></code> to a dfm that has already been weighted. (<a href='https://github.com/quanteda/quanteda/issues/1545'>#1545</a>) The function <code><a href="../reference/textstat_frequency.html">textstat_frequency()</a></code> now allows passing this argument to <code><a href="../reference/dfm_group.html">dfm_group()</a></code> via <code>...</code>. (<a href='https://github.com/quanteda/quanteda/issues/1646'>#1646</a>)</li>
<li>
<code><a href="../reference/textstat_frequency.html">textstat_frequency()</a></code> now has a new argument for resolving ties when ranking term frequencies, defaulting to the “min” method. (<a href='https://github.com/quanteda/quanteda/issues/1634'>#1634</a>)</li>
<li>New docvars accessor and replacement functions are available for corpus, tokens, and dfm objects via <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code>. (See Index Operators for Core Objects above.)</li>
<li>
<code><a href="../reference/textstat_entropy.html">textstat_entropy()</a></code> now produces a data.frame that is more consistent with other <code>textstat</code> methods. (<a href='https://github.com/quanteda/quanteda/issues/1690'>#1690</a>)</li>
</ul>
</div>
<div id="bug-fixes-and-stability-enhancements-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-and-stability-enhancements-3" class="anchor"></a>Bug fixes and stability enhancements</h2>
<ul>
<li>docnames now enforced to be character (formerly, could be numeric for some objects).</li>
<li>docnames are now enforced to be strictly unique for all object classes.</li>
<li>Grouping operations in <code><a href="../reference/tokens_group.html">tokens_group()</a></code> and <code><a href="../reference/dfm_group.html">dfm_group()</a></code> are more robust to using multiple grouping variables, and preserve these correctly as docvars in the new dfm. (<a href='https://github.com/quanteda/quanteda/issues/1809'>#1809</a>)</li>
<li>Some fixes to documented … objects in two functions that were previously causing CRAN check failures on the release of 1.5.2.</li>
</ul>
</div>
<div id="other-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#other-improvements" class="anchor"></a>Other improvements</h2>
<ul>
<li>All of the (three) included corpus objects have been cleaned up and augmented with improved meta-data and docvars. The inaugural speech corpus, for instance, now includes the President’s political party affiliation.</li>
</ul>
</div>
</div>
    <div id="quanteda-201" class="section level1">
<h1 class="page-header" data-toc-text="2.0.1">
<a href="#quanteda-201" class="anchor"></a>quanteda 2.0.1<small> 2020-03-18 </small>
</h1>
<div id="changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-2" class="anchor"></a>Changes</h2>
<ul>
<li>Moved <code>data_corpus_irishbudget2010</code> and <code>data_corpus_dailnoconf1991</code> to the <strong>quanteda.textmodels</strong> package.</li>
<li>Em dashes and double dashes between words, whether surrounded by a space or not, are now converted to " - " to distinguish them from infix hyphens. (<a href='https://github.com/quanteda/quanteda/issues/1889'>#1889</a>)</li>
<li>Verbose output for dfm and tokens creation is now corrected and more consistent. (<a href='https://github.com/quanteda/quanteda/issues/1894'>#1894</a>)</li>
</ul>
</div>
<div id="bug-fixes-and-stability-enhancements-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-and-stability-enhancements-2" class="anchor"></a>Bug fixes and stability enhancements</h2>
<ul>
<li>Number removal is now both improved and fixed (<a href='https://github.com/quanteda/quanteda/issues/1909'>#1909</a>).</li>
<li>Fixed an issue causing CRAN errors in pre-v4, related to the new default of <code>stringsAsFactors = FALSE</code> for data.frame objects.</li>
<li>An error in the print method for dfm objects is now fixed (<a href='https://github.com/quanteda/quanteda/issues/1897'>#1897</a>)</li>
<li>Fixed a bug in <code><a href="../reference/tokens_replace.html">tokens_replace()</a></code> when the pattern was not matched (<a href='https://github.com/quanteda/quanteda/issues/1895'>#1895</a>)</li>
<li>Fixed the names of dimensions not exchanging when a dfm was transposed (<a href='https://github.com/quanteda/quanteda/issues/1903'>#1903</a>)</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit, Kohei Watanabe, Haiyan Wang, Paul Nulty, Adam Obeng, Stefan Müller, Akitaka Matsuo, Jiong Wei Lua, Jouni Kuha, William Lowe, European Research Council.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '9b4ef7fd791dc6075154d3ebd7b12acf',
    indexName: 'quanteda',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


